(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9062:function(t,e,n){Promise.resolve().then(n.bind(n,6986))},7388:function(t,e,n){"use strict";e.v=void 0;var o=n(9625);Object.defineProperty(e,"v",{enumerable:!0,get:function(){return o.JigsawPuzzle}})},9625:function(t,e,n){"use strict";var o=function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]},c=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},i=function(t,e,n){if(n||2==arguments.length)for(var o,r=0,c=e.length;r<c;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.JigsawPuzzle=void 0;var u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return c(e,t),e}(n(4090)),a=function(t,e,n){return t<e?e:t>n?n:t};e.JigsawPuzzle=function(t){var e=t.imageSrc,n=t.rows,r=void 0===n?3:n,c=t.columns,s=void 0===c?4:c,l=t.onSolved,f=void 0===l?function(){}:l;if(!e)return null;var d=(0,u.useState)(),h=d[0],g=d[1],p=(0,u.useState)(),v=p[0],m=p[1],_=(0,u.useState)(),b=_[0],x=_[1],y=(0,u.useState)(),w=y[0],P=y[1],j=(0,u.useRef)(),z=(0,u.useRef)(),k=(0,u.useRef)(),O=(0,u.useCallback)(function(t){m({width:t.width,height:t.height}),b&&P(b.width/t.width*t.height),g(Array.from(Array(r*s).keys()).map(function(e){return{correctPosition:e,tileHeight:t.height/r,tileWidth:t.width/s,tileOffsetX:e%s*(t.width/s),tileOffsetY:t.height/r*Math.floor(e/s),currentPosXPerc:Math.random()*(1-1/r),currentPosYPerc:Math.random()*(1-1/s),solved:!1}}))},[r,s]),M=(0,u.useCallback)(function(t){var e,n=null===(e=t.find(function(t){return t.contentRect}))||void 0===e?void 0:e.contentRect;n&&(x({width:n.width,height:n.height}),v&&P(n.width/v.width*v.height))},[x,v]),B=(0,u.useCallback)(function(t){if(t){j.current=t;var e=new ResizeObserver(M);e.observe(t),z.current=e,x({width:t.offsetWidth,height:t.offsetHeight}),v&&P(t.offsetWidth/v.width*v.height)}},[x,v,j,z]);(0,u.useEffect)(function(){var t=new Image;t.onload=function(){return O(t)},t.src=e},[e,r,s]);var N=(0,u.useCallback)(function(t,e){var n,o;if(!t.solved){"touchstart"===e.type&&document.documentElement.style.setProperty("overflow","hidden");var r={x:null!==(n=e.pageX)&&void 0!==n?n:e.touches[0].pageX,y:null!==(o=e.pageY)&&void 0!==o?o:e.touches[0].pageY};k.current={tile:t,elem:e.target,mouseOffsetX:r.x-e.target.getBoundingClientRect().x,mouseOffsetY:r.y-e.target.getBoundingClientRect().y},e.target.classList.add("jigsaw-puzzle__piece--dragging")}},[k]),C=(0,u.useCallback)(function(t){var e,n;if(k.current){t.stopPropagation(),t.preventDefault();var o={x:null!==(e=t.pageX)&&void 0!==e?e:t.touches[0].pageX,y:null!==(n=t.pageY)&&void 0!==n?n:t.touches[0].pageY},r={x:a(o.x-j.current.getBoundingClientRect().left-k.current.mouseOffsetX,0,b.width-k.current.elem.offsetWidth),y:a(o.y-j.current.getBoundingClientRect().top-k.current.mouseOffsetY,0,b.height-k.current.elem.offsetHeight)};k.current.elem.style.setProperty("left","".concat(r.x,"px")),k.current.elem.style.setProperty("top","".concat(r.y,"px"))}},[k,b]),R=(0,u.useCallback)(function(t){var e;if(k.current){"touchend"===t.type&&document.documentElement.style.removeProperty("overflow"),null===(e=k.current)||void 0===e||e.elem.classList.remove("jigsaw-puzzle__piece--dragging");var n={x:a(k.current.elem.offsetLeft/b.width,0,1),y:a(k.current.elem.offsetTop/b.height,0,1)},c=k.current.tile,u={x:c.correctPosition%s/s,y:Math.floor(c.correctPosition/s)/r},l=.028>=Math.abs(u.x-n.x)&&.028>=Math.abs(u.y-n.y);g(function(t){var e=i(i([],t.filter(function(t){return t.correctPosition!==c.correctPosition}),!0),[o(o({},c),{currentPosXPerc:l?u.x:n.x,currentPosYPerc:l?u.y:n.y,solved:l})],!1);return e.every(function(t){return t.solved})&&f(),e}),k.current=void 0}},[k,g,b,f]);return u.default.createElement("div",{ref:B,onTouchMove:C,onMouseMove:C,onTouchEnd:R,onMouseUp:R,onTouchCancel:R,onMouseLeave:R,className:"jigsaw-puzzle",style:{height:w?"".concat(w,"px"):void 0},onDragEnter:function(t){t.stopPropagation(),t.preventDefault()},onDragOver:function(t){t.stopPropagation(),t.preventDefault()}},h&&b&&v&&h.map(function(t){return u.default.createElement("div",{draggable:!1,onMouseDown:function(e){return N(t,e)},onTouchStart:function(e){return N(t,e)},key:t.correctPosition,className:"jigsaw-puzzle__piece ".concat(t.solved?" jigsaw-puzzle__piece--solved":""," "),style:{position:"absolute",height:"".concat(1/r*100,"%"),width:"".concat(1/s*100,"%"),backgroundImage:"url(".concat(e,")"),backgroundSize:"".concat(b.width,"px ").concat(b.height,"px"),backgroundPositionX:"".concat(t.correctPosition%s/(s-1)*100,"%"),backgroundPositionY:"".concat(Math.floor(t.correctPosition/s)/(r-1)*100,"%"),left:"".concat(t.currentPosXPerc*b.width,"px"),top:"".concat(t.currentPosYPerc*b.height,"px")}})}))}},6986:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var o=n(3827),r=n(4090),c=n(5313),i=n(8528),u=n.n(i),a=n(2005),s=n.n(a),l=function(t){let{titleText:e,contentText:n,leftButtonText:r,rightButtonText:c,leftButtonFn:i,rightButtonFn:u}=t;return(0,o.jsx)("article",{className:s().container,onClick:()=>u(!1),children:(0,o.jsxs)("section",{className:s().box,children:[(0,o.jsx)("div",{className:s().title,children:e}),(0,o.jsx)("section",{className:s().content,children:n}),(0,o.jsxs)("div",{className:s().buttonBox,children:[r?(0,o.jsx)("button",{className:"".concat(s().button," ").concat(s().leftButton),children:r}):null,(0,o.jsx)("button",{className:"".concat(s().button," ").concat(s().rightButton),onClick:()=>u(!1),children:c})]})]})})},f=n(5531),d=n.n(f),h=n(7388);n(2741);var g=function(){let t=(0,c.useRouter)();return(0,o.jsx)("article",{className:d().container,children:(0,o.jsx)("section",{className:d().box,children:(0,o.jsx)(h.v,{imageSrc:"images/puzzleImg.png",rows:2,columns:3,onSolved:()=>t.push("/intro")})})})};function p(){let[t,e]=(0,r.useState)(!0),n=(0,c.useRouter)();return(0,r.useEffect)(()=>{setTimeout(()=>e(!1),2222),window.innerWidth<1025&&n.push("/intro")}),(0,o.jsxs)("main",{className:u().container,children:[(0,o.jsx)(g,{}),(0,o.jsx)("button",{className:u().skipButton,onClick:()=>n.push("intro"),children:"퍼즐 건너뛰기 ►"}),t?(0,o.jsx)(l,{titleText:"퍼즐을 맞춰보세요!",contentText:"퍼즐을 맞추고 포트폴리오를 확인하세요!",rightButtonText:"닫기",rightButtonFn:e}):null]})}},2741:function(){},2005:function(t){t.exports={container:"modal_container__4hhyw",box:"modal_box__MwjKM",title:"modal_title__beNLR",content:"modal_content__ZLUFF",buttonBox:"modal_buttonBox__dBMwJ",button:"modal_button__WHQSK",leftButton:"modal_leftButton__scdxf",rightButton:"modal_rightButton__MQW3r"}},5531:function(t){t.exports={container:"puzzle_container__y2EaT",box:"puzzle_box__7lxun"}},8528:function(t){t.exports={container:"root_container__lG6uK",skipButton:"root_skipButton__k2A49"}}},function(t){t.O(0,[971,69,744],function(){return t(t.s=9062)}),_N_E=t.O()}]);